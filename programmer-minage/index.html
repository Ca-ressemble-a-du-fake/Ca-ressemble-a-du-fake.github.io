<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="google-site-verification" content="AcLB7jXGeweB71fnvNHnVGQD2HxPqwNt25fmQIqR2Zg" />
<link rel="icon" href="/assets/images/logo.png">

<title>Découvrez comment il mine au soleil gratuitement et écologiquement | Ça ressemble à du fake</title>

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Découvrez comment il mine au soleil gratuitement et écologiquement | Ça ressemble à du fake</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Découvrez comment il mine au soleil gratuitement et écologiquement" />
<meta name="author" content="anatole" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On va voir comment faire en sorte que son ordinateur s’allume et s’éteigne tout seul, pour par exemple miner gratuitement à certaines heures, grâce à l’intensité lumineuse du soleil." />
<meta property="og:description" content="On va voir comment faire en sorte que son ordinateur s’allume et s’éteigne tout seul, pour par exemple miner gratuitement à certaines heures, grâce à l’intensité lumineuse du soleil." />
<link rel="canonical" href="https://ca-ressemble-a-du-fake.github.io/programmer-minage/" />
<meta property="og:url" content="https://ca-ressemble-a-du-fake.github.io/programmer-minage/" />
<meta property="og:site_name" content="Ça ressemble à du fake" />
<meta property="og:image" content="https://ca-ressemble-a-du-fake.github.io/assets/images/minage-au-soleil.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-01T00:00:00+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://ca-ressemble-a-du-fake.github.io/assets/images/minage-au-soleil.jpg" />
<meta property="twitter:title" content="Découvrez comment il mine au soleil gratuitement et écologiquement" />
<script type="application/ld+json">
{"description":"On va voir comment faire en sorte que son ordinateur s’allume et s’éteigne tout seul, pour par exemple miner gratuitement à certaines heures, grâce à l’intensité lumineuse du soleil.","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ca-ressemble-a-du-fake.github.io/assets/images/logo.png"},"name":"anatole"},"image":"https://ca-ressemble-a-du-fake.github.io/assets/images/minage-au-soleil.jpg","url":"https://ca-ressemble-a-du-fake.github.io/programmer-minage/","headline":"Découvrez comment il mine au soleil gratuitement et écologiquement","dateModified":"2022-09-01T00:00:00+02:00","datePublished":"2022-09-01T00:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://ca-ressemble-a-du-fake.github.io/programmer-minage/"},"author":{"@type":"Person","name":"anatole"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link type="application/atom+xml" rel="alternate" href="https://ca-ressemble-a-du-fake.github.io/feed.xml" title="Ça ressemble à du fake" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link href="/assets/css/screen.css" rel="stylesheet">

<link href="/assets/css/main.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

<!-- for mathjax support -->
    
      <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" } }
        });
      </script>
      <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5484006647100805"
     crossorigin="anonymous"></script>

</head>






<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/assets/images/logo.png" alt="Ça ressemble à du fake">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item">
                
                <a class="nav-link" href="/index.html">Blog Caraduf</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" href="/about">À propos</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="/donate">À vot' bon coeur</a>
                </li>               

                <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Rechercher dans Caraduf..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>


            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">Ça ressemble à du fake</h1>
    <p class="lead">
        Ingrédients : 100% issus d'informations presque fausses
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Découvrez comment il mine au soleil gratuitement et écologiquement&url=https://ca-ressemble-a-du-fake.github.io/programmer-minage/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https://ca-ressemble-a-du-fake.github.io/programmer-minage/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://ca-ressemble-a-du-fake.github.io/programmer-minage/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="/assets/images/avatar.png" alt="Anatole Lefranc">
                        
                    </div>
                    <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                        <a target="_blank" class="link-dark" href="https://caressembleadufake.github.io">Anatole Lefranc</a><a target="_blank" href="" class="btn follow">Follow</a>
                        <span class="author-description">L'auteur de ce blog est un nageur amateur, cycliste quotidien, passionné de technologie. Il est un hoministe acharné sur certains sujets -notamment ceux touchant au plaisir masculin- et féministe sur les autres sujets.</span>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">Découvrez comment il mine au soleil gratuitement et écologiquement</h1>

            </div>
            

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/assets/images/minage-au-soleil.jpg" alt="Découvrez comment il mine au soleil gratuitement et écologiquement">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                <!-- End Toc -->
                
				<p>Pour miner des crypto-monnaies gratuitement grâce au soleil, il faut pouvoir démarrer et éteindre sa plate-forme minière automatiquement. En plus d’être gratuit, ça rend le minage plus écologique.</p>

<p>Voici comment on va s’y prendre :</p>

<ul id="markdown-toc">
  <li><a href="#objectif-visé-et-cadre-de-létude" id="markdown-toc-objectif-visé-et-cadre-de-létude">Objectif visé et cadre de l’étude</a></li>
  <li><a href="#démarrage-et-arrêt-à-heures-fixes" id="markdown-toc-démarrage-et-arrêt-à-heures-fixes">Démarrage et arrêt à heures fixes</a>    <ul>
      <li><a href="#lallumage-automatique-de-lordi" id="markdown-toc-lallumage-automatique-de-lordi">L’allumage automatique de l’ordi⚡</a>        <ul>
          <li><a href="#réglages-dans-le-bios" id="markdown-toc-réglages-dans-le-bios">Réglages dans le BIOS</a></li>
          <li><a href="#si-vous-avez-hiveos" id="markdown-toc-si-vous-avez-hiveos">Si vous avez HiveOS</a></li>
          <li><a href="#si-vous-navez-pas-hiveos" id="markdown-toc-si-vous-navez-pas-hiveos">Si vous n’avez pas HiveOS</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#lextinction-totale-automatique" id="markdown-toc-lextinction-totale-automatique">L’extinction totale automatique💤</a>    <ul>
      <li><a href="#si-vous-avez-hiveos-1" id="markdown-toc-si-vous-avez-hiveos-1">Si vous avez HiveOS</a>        <ul>
          <li><a href="#ajout-dune-étiquette-à-votre-ferme" id="markdown-toc-ajout-dune-étiquette-à-votre-ferme">💡Ajout d’une étiquette à votre ferme💡</a></li>
          <li><a href="#ajout-dune-planification" id="markdown-toc-ajout-dune-planification">Ajout d’une planification</a></li>
        </ul>
      </li>
      <li><a href="#si-vous-navez-pas-hiveos-1" id="markdown-toc-si-vous-navez-pas-hiveos-1">Si vous n’avez pas HiveOS</a></li>
    </ul>
  </li>
  <li><a href="#bonus--déboggage-de-cron" id="markdown-toc-bonus--déboggage-de-cron">💡Bonus : déboggage de CRON💡</a></li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
</ul>

<h4 id="objectif-visé-et-cadre-de-létude">Objectif visé et cadre de l’étude</h4>

<p>Mon objectif est de miner suffisamment d’Ether pour financer mes achats de jeux vidéos <a href="https://fr.wikipedia.org/wiki/Steam">Steam</a> que l’on peut payer en Ether chez certains revendeurs. La plate-forme de minage utilisée est issue d’une ancienne plate-forme qui a été simplifiée. À terme elle sera constituée d’une seule carte graphique haut de gamme mais pour l’heure elle en compte encore deux, comme on le voit ci-dessous.</p>

<p><img src="/assets/images/new-rig-rtx.jpg" alt="Nouvelle plate-forme minière simplifiée" title="Nouvelle plate-forme minière simplifiée" /></p>

<p>Comme ma demeure est équipée de panneaux solaires et que le tarif de l’électricité augmente fortement, l’idée est de faire tourner la plate-forme minière à l’énergie solaire produite localement par les panneaux photovoltaïques. Comme ça, ça ne me coûte rien, et ça me permet de tester régulièrement (une fois tous les deux mois) de nouveaux jeux.</p>

<p>Ma consommation de jeux vidéos se suffit largement d’un minage intermittent, seulement quand le soleil brille. Le but est vraiment que ça ne me coûte rien de plus.</p>

<p>Pour arriver à mes fins (démarrer le minage aux heures ensoleillées / l’éteindre en dehors de ces heures), il est donc utile de savoir programmer son ordinateur<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>, comme ça même en mon absence le minage a lieu.</p>


					<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-5484006647100805"
     data-ad-slot="9777395126"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

				

<h4 id="démarrage-et-arrêt-à-heures-fixes">Démarrage et arrêt à heures fixes</h4>

<p>Voyons dès à présent comment s’y prendre pour démarrer et arrêter son ordinateur à heures fixes. Ce n’est pas forcément la méthode la plus sûre pour garantir le minage 100 % gratuit (à l’énergie solaire), mais c’est celle qui est la plus rapide et la plus simple à mettre en œuvre.</p>

<h5 id="lallumage-automatique-de-lordi">L’allumage automatique de l’ordi⚡</h5>

<p>Avant de pouvoir miner, il faut que l’ordinateur s’allume et démarre. C’est ce qu’on va faire ici.
Bien que la plate-forme présentée fonctionne sous Linux, l’allumage automatique fonctionne aussi sous Windows puisque ça passe par le BIOS.</p>

<h6 id="réglages-dans-le-bios">Réglages dans le BIOS</h6>

<p>Le BIOS est le petit logiciel qui se lance au démarrage de l’ordinateur et émet parfois des bips. C’est lui qui va s’occuper d’allumer l’ordinateur et de le lancer.</p>

<p><img src="/assets/images/bios.jpg" alt="Exemple de BIOS Intel" title="Exemple de BIOS Intel" /></p>

<p>Depuis fort longtemps (au moins une dizaine d’années) un paramètre dans le BIOS permet de programmer l’allumage de l’ordinateur à un horaire donné. Ça n’est pas compliqué, il faut juste le chercher parmi tous les paramètres. Ici il s’appelle “Réveil” (“wake-up”) et apparaît après l’activation du “Réveil depuis l’état S5” (“wake system from S5”). Je vous montre la procédure dans cette vidéo.</p>

<iframe width="1138" height="711" src="https://www.youtube.com/embed/A57FbISpZhI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>💡 Il faut faire attention à l’heure du BIOS qui s’affiche sur la première page car c’est elle qui fait foi. Dans la vidéo, on voit que le BIOS a 2 heures de décalage par rapport à l’heure de ma montre. C’est pourquoi je décale l’heure du réveil de 2 heures.</p>

<p>Voilà maintenant la plate-forme minière s’allumera tous les jours à 9h30. Mais pour le moment, elle est juste allumée et ne mine pas encore.</p>

<p>Pour démarrer le minage, on présente deux méthodes. L’une a recours à <a href="http://wikihiveosfr.fr/">HiveOS</a> qui est un environnement complet dédié au minage qui remplace le système d’exploitation habituel (ex Windows ou Ubuntu), et l’autre est plus générale et utilise une version quelconque de Linux (ex Debian, Ubuntu, …).</p>

<h6 id="si-vous-avez-hiveos">Si vous avez HiveOS</h6>

<p>Vous n’avez rien d’autre à faire puisque, par défaut, dès que HiveOS démarre, il se met à miner.</p>

<h6 id="si-vous-navez-pas-hiveos">Si vous n’avez pas HiveOS</h6>

<p>Dans le cas où votre ordinateur sert à autre chose qu’au minage, vous n’avez pas HiveOS d’installé et allez donc devoir créer manuellement l’événement de démarrage du minage.</p>

<ol>
  <li>
    <p>Vous allez créer tout d’abord un script avec la commande de minage (réglage de la carte graphique (cf “overclocking”), lancement du logiciel de minage). Pensez à le rendre exécutable (bouton droit sur le fichier, propriétés, permissions, autoriser l’exécution du fichier comme un programme) ou avec un chmod -x.</p>
  </li>
  <li>
    <p>Ensuite pour lancer ce script, on va ajouter une planification pour cron, en passant par son éditeur qui n’est autre que crontab. ⚠️ Le script doit se lancer en mode sans privilèges, donc NE PAS UTILISER <code class="language-plaintext highlighter-rouge">sudo</code> pour lancer crontab. La commande suivante est recommandée.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> crontab -e
</pre></td></tr></tbody></table></code></pre></div>    </div>
    <p>On choisit “nano” comme éditeur s’il nous le demande, puis on ajoute une ligne 
 <code class="language-plaintext highlighter-rouge">32 9 * * * /home/user/chemin/vers/script.sh</code> et on sauvegarde.
 Cette commande lancera le script de lancement du minage tous les jours à 9h32 (heure du système d’exploitation, pas du BIOS).</p>

    <p>Comme l’heure du BIOS n’est pas réglée précisément, on laisse une grosse minute de battement pour que l’ordinateur démarre.</p>

    <p>On aurait pu lancer le script de minage au démarrage de l’ordinateur, mais il se lancerait à chaque démarrage, même quand on ne veut pas. Là, si on a une tache GPU à réaliser (ex : un invité veut jouer à un jeu vidéo), il suffit de redémarrer l’ordinateur après cet horaire et le script de minage n’est pas lancé.</p>
  </li>
</ol>

<p>Commencer à miner à 9h32 au Printemps ou en Été est bien suffisant car le soleil produit déjà suffisamment pour assurer la couverture des besoins électriques de la plate-forme, en hiver il faudra certainement rajouter une bonne heure. Il ne nous reste plus qu’à programmer l’heure à laquelle l’ordinateur devra s’éteindre.</p>

<h4 id="lextinction-totale-automatique">L’extinction totale automatique💤</h4>

<p>Tout d’abord précisons que pour éviter de gaspiller l’électricité lorsque l’ordinateur ne mine pas et qu’on ne s’en sert pas, on souhaite qu’il soit complètement éteint<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> en dehors des périodes de minage (<a href="https://www.ecoconso.be/fr/content/les-appareils-en-veille-ca-consomme-et-ca-coute-cher">pas de veille</a>).</p>

<p>Les méthodes proposées ici concernent Linux car en général les plate-formes de minage ou d’apprentissage machine ont tout l’écosystème ad-hoc sous ce système d’exploitation. Les utilisateurs Windows trouveront une manière de faire <a href="https://www.pcastuces.com/pratique/astuces/4018.htm">ici (non testée)</a>.</p>

<p>On présente deux méthodes car l’une a recours à <a href="http://wikihiveosfr.fr/">HiveOS</a> qui est un environnement complet dédié au minage qui remplace le système d’exploitation habituel (ex Windows ou Ubuntu), et l’autre est plus générale et utilise une version quelconque de Linux (ex Debian, Ubuntu, …).</p>

<h5 id="si-vous-avez-hiveos-1">Si vous avez HiveOS</h5>

<h6 id="ajout-dune-étiquette-à-votre-ferme">💡Ajout d’une étiquette à votre ferme💡</h6>
<p>Avant de pouvoir appliquer la méthode pour programmer l’horaire d’extinction de l’ordinateur sous HiveOS, il y a une astuce à connaître. En effet, il faut d’abord “coller” une étiquette (“tag” sous HiveOS) à votre ferme si elle n’en a pas déjà. Sans cela vous ne pourrez pas sélectionner votre ferme dans le planificateur (“schedules” sous HiveOS). Voici comment faire sous l’appli HiveOS :</p>

<ol>
  <li>
    <p>Sélectionnez votre ferme puis appuyez sur les trois petits points en bas à droite.
 <img src="/assets/images/ajout-tag-selection-ferme.jpg" alt="Sélection de la ferme à étiqueter" title="Sélection de la ferme à étiqueter" /></p>
  </li>
  <li>
    <p>Ouvrez alors dans Paramètres de la ferme (“Settings”).
 <img src="/assets/images/ajout-tag-parametres.jpg" alt="Ouvrir les paramètres de la ferme" title="Ouvrir les paramètres de la ferme" /></p>
  </li>
  <li>
    <p>Faites défiler vers le bas et à la rubrique Étiquettes (“Tags”) ajoutez en une (“Add Tag”) s’il n’y en a pas. Ici la plate-forme produit 150 MH/s en Eth, je l’ai donc nommée “150Rig”.
 <img src="/assets/images/ajout-tag-nom.jpg" alt="Attribuer une étiquette à la ferme" title="Attribuer une étiquette à la ferme s'il n'y en a pas déjà une" /></p>
  </li>
</ol>

<p>Vous êtes prêt à passer à la suite!</p>

<h6 id="ajout-dune-planification">Ajout d’une planification</h6>

<p>Maintenant que votre ferme a une étiquette,</p>

<ol>
  <li>
    <p>Retournez sur votre ferme et sélectionnez la. Ensuite dans le menu du bas à droite (“More”), sélectionnez les planifications (“Schedules”).
 <img src="/assets/images/schedules-select-worker.jpg" alt="Sélection de la ferme" title="Sélection de la ferme" /></p>

    <p>La fenêtre suivante s’ouvre :
 <img src="/assets/images/schedules-broad-view.jpg" alt="Vue d'ensemble d'une planification" title="Vue d'ensemble d'une planification" /></p>
  </li>
  <li>
    <p>Ajoutez alors un événement (“Add event”).
 <img src="/assets/images/schedules-add-event.jpg" alt="Ajout d'un nouvel événement" title="Ajout d'un nouvel événement" /></p>
  </li>
  <li>
    <p>C’est à ce moment là que l’étiquette de la ferme est requise (rubrique “Tags”). Sélectionnez donc votre ferme grâce à son étiquette.
 <img src="/assets/images/schedules-select-tag.jpg" alt="Sélection de la ferme par son étiquette" title="Sélection de la ferme par son étiquette" /></p>
  </li>
  <li>
    <p>Faites défiler l’écran vers le bas jusqu’à trouver la rubrique concernant la commande à lancer (“Run command”). Choisissez alors éteindre (“Shutdown”) dans la liste.
 <img src="/assets/images/schedules-select-command.jpg" alt="Sélection de la commande d'extinction" title="Sélection de la commande d'extinction" /></p>
  </li>
  <li>
    <p>Faites défiler encore vers le bas et à la rubrique Répétition (“Repeat”) choisissez Quotidiennement à l’horaire (“Daily at time”).
 <img src="/assets/images/schedules-set-repeat.jpg" alt="Sélection du type de répétition" title="Sélection du type de répétition" /></p>
  </li>
  <li>
    <p>Entrez l’horaire d’arrêt de l’ordinateur
 <img src="/assets/images/schedules-set-time.jpg" alt="Définition de l'heure d'arrêt de l'ordinateur" title="Définition de l'heure d'arrêt de l'ordinateur" /></p>
  </li>
  <li>
    <p>Enfin nommez cet événement (rubrique “Name”) et vérifiez qu’il est bien active (“Event is running” en vert).
 <img src="/assets/images/schedules-set-name.jpg" alt="Attribution d'un nom à l'événement" title="Attribution d'un nom à l'événement" /></p>
  </li>
</ol>

<p>Dorénavant HiveOS s’occupera d’envoyer la commande “shutdown” à l’horaire fixé. Vous n’avez plus à vous en occuper.</p>

<h5 id="si-vous-navez-pas-hiveos-1">Si vous n’avez pas HiveOS</h5>

<p>Dans le cas où votre ordinateur sert à autre chose qu’au minage, vous n’avez pas HiveOS d’installé et allez donc devoir créer manuellement l’événement de mise hors tension de l’ordi.</p>

<ol>
  <li>
    <p>Vous allez directement ajouter une planification pour cron, en passant par son éditeur qui n’est autre que crontab. Cette fois on utilise bien <code class="language-plaintext highlighter-rouge">sudo</code> car la commande <code class="language-plaintext highlighter-rouge">shutdown</code> requiert les droits administrateur :</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> sudo crontab -e
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>On ajoute alors <code class="language-plaintext highlighter-rouge">0 20 * * * /sbin/shutdown -h now</code> et on sauvegarde.</p>

    <p>L’ordinateur s’éteindra tous les jours (cf * * *) à 20 h tapantes en lançant la commande <code class="language-plaintext highlighter-rouge">/sbin/shutdown - h now</code>. On ne spécifie pas que <code class="language-plaintext highlighter-rouge">root</code> doit lancer cette commande, puisqu’on édite déjà le CRON du super utilisateur.</p>

    <p>On ne créé pas de script car la commande est simple.</p>
  </li>
</ol>

<p>Observons maintenant si on obtient le résultat escompté :</p>

<iframe width="1138" height="711" src="https://www.youtube.com/embed/PSUYy6rlglg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h4 id="bonus--déboggage-de-cron">💡Bonus : déboggage de CRON💡</h4>

<p>Pour vérifier que votre commande CRON se lance bien, vous pouvez utiliser <code class="language-plaintext highlighter-rouge">sudo grep cron /var/log/syslog</code></p>

<p>Si jamais vous voyez des erreurs avec MTA, installez postfix, puis mailutils et lancer la commande <code class="language-plaintext highlighter-rouge">mail</code> ou <code class="language-plaintext highlighter-rouge">sudo mail</code> pour lire les messages systèmes, notamment ceux de CRON.</p>

<h4 id="conclusion">Conclusion</h4>

<p>Cet article nous a permis de voir comment programmer son ordinateur, par exemple pour qu’il mine automatiquement à certains horaires afin que sa consommation électrique soit couverte par la production des panneaux solaires. Évidemment cette méthode fonctionne mieux en été qu’en hiver, et elle n’est pas infaillible puisqu’on n’est pas à l’abri d’un temps couvert! Mais c’est déjà bien utile si sa plate-forme de minage est reléguée dans le garage et qu’on l’oublie facilement! 
À l’été 2022, cette méthode a très bien fonctionné car le soleil était au rendez-vous pratiquement tous les jours.</p>

<p>Pour améliorer la méthode, on peut envisager de ne déclencher le minage que lorsque la production solaire est suffisante. Mais ça n’est pas pour tout de suite, ce sera l’objet d’un futur article ✏️!</p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>Une plate-forme minière n’est autre qu’un ordinateur équipé de plusieurs cartes graphiques. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Techniquement l’ordinateur est en veille mais dans un autre type de veille que celle que l’on choisit quand on clique sur “Mettre en veille”. Quand l’ordinateur est éteint, seule l’horloge interne fonctionne encore grâce à une pile au lithium. La consommation dans ce mode est voisine de 0 W. Par contre lorsque l’ordinateur est “mis en veille”, les composants internes sont mis en mode très faible consommation, mais restent toujours alimentés par la prise secteur. La consommation est alors comprise entre <a href="https://www.thehomehacksdiy.com/how-much-power-does-a-computer-use-in-sleep-mode/">3 et 10 W</a>. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

				
                
            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2022-09-01">01 Sep 2022</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#minage">minage</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#tutoriel">tutoriel</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#économies">économies</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/tags#carte-graphique">#carte graphique</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#ethereum">#ethereum</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#minage">#minage</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="/minage-coinbase-ajout-adresse/"> &laquo; Comment ajouter une nouvelle adresse crypto à son porte-monnaie Coinbase ?</a>
            
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ca-ressemble-a-du-fake'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->


</div>


    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Visiter <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/categories#sport">sport (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#natation">natation (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#tutoriel">tutoriel (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#jeu-vidéo">jeu vidéo (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#premiers-secours">premiers secours (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#minage">minage (4)</a>
                
                    <a class="mt-1 mb-1" href="/categories#vie-pratique">vie pratique (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#énergie">énergie (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#économies">économies (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#électricité">électricité (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#crypto">crypto (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#astuces">astuces (1)</a>
                
            
            
		</div>
	</div>
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2022 Ça ressemble à du fake 
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Basé sur le thème Mediumish Jekyll</a>
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//ca-ressemble-a-du-fake.disqus.com/count.js"></script>


</body>
</html>
